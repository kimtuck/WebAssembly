<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wasm/Rust</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script type="text/javascript" src="./web_assembly.js"></script>
    <script type="text/javascript">

        var fix_story;

        var onChange = function() {
            var from = $('#from').val();
            var to = $('#to').val();
            var text = $('#text').val();
            var modified = replace(text,from,to);
            $('#result').text(modified);
        }
        Module.addOnInit(function () {
            replace = Module.cwrap('replace', 'string', ['string','string','string']);
        });
    </script></head>
<body>
<h1>Rust Replace example</h1>
    <label for="from">From </label><input id="from" name="from" onkeyup="onChange()">
    <label for="to">To </label><input id="to" name="from" onkeyup="onChange()">
    <label for="text"></label><input id="text" onkeyup="onChange()">
    <div id="result"></div>
</body>
</html>