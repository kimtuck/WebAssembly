<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wasm/Rust</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script type="text/javascript" src="./web_assembly.js"></script>
    <script type="text/javascript">

        var fix_story;

        var onChange = function() {
            var text = $('#in').val();
            var modified = fix_story(text);
            $('#fred').text(modified);
        }
        Module.addOnInit(function () {
            fix_story = Module.cwrap('fix_story', 'string', ['string']);
        });
    </script></head>
<body>
<h1>If you type "one" it is replaced by the word "twice"</h1>
    <input id="in" onkeyup="onChange()">
    <div id="fred"></div>
</body>
</html>